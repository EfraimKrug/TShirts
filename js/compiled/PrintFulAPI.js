function doApiCall(b,c,d){c=void 0===c?"list":c;var a={headerParam:"application/x-www-form-urlencoded",holdOrderForLater:"",phpProg:"",parms:"",xhttp:"",returnVal:"",outData:"",idIn:void 0===d?0:d,setupCall:function(){switch(c){case "list":a.setParms("apiProductList","");break;case "product":a.setParms("apiProduct","ID="+this.idIn);break;case "variant":a.setParms("apiVariant","ID="+this.idIn);break;case "files":a.setParms("apiETC","path=files&ID="+this.idIn);break;case "estimate":a.setParms("apiOrderEstimate",
JSON.stringify(this.idIn).replace(/{/g,"[~").replace(/}/g,"~]"));this.holdOrderForLater=this.parms;break;case "order":a.setParms("apiOrder",this.holdOrderForLater);this.holdOrderForLater="";break;case "countries":a.setParms("apiCountries","")}},setParms:function(a,b){this.phpProg="cgi-bin/"+a+".php";this.parms=b},xhttpSend:function(){xhttp=new XMLHttpRequest;xhttp.onreadystatechange=function(){4==this.readyState&&200==this.status?(this.outData=this.responseText,0>this.outData.indexOf("Exception")&&
"function"==typeof b&&b(this.outData),returnVal=0):returnVal=this.status};xhttp.open("POST",this.phpProg,!0);xhttp.setRequestHeader("Content-Type",this.headerParam);xhttp.send(this.parms)}};return a}function apiCall(b,c,d){b=doApiCall(b,void 0===c?"list":c,void 0===d?0:d);b.setupCall();b.xhttpSend()};
